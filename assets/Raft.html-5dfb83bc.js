import{_ as o,r,o as d,c as i,d as a,a as e,b as t,e as p}from"./app-9157d7b3.js";const s={},c=p('<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><p>RAFT(Reliable, Replicated, Redundant, Fault-Tolerant)协议是一种分布式共识算法，它的主要特征包括：</p><ul><li><p>成员可变</p><p>RAFT可以在不影响一致性的情况下添加和删除节点,如增加Follower或替换宕机的节点。</p></li><li><p>安全</p><p>RAFT确保只要大多数节点存活,集群就可以达到一致性。即使存在失效节点也能正常工作。</p></li><li><p>容易理解</p><p>比Paxos等算法容易理解</p></li></ul><p>RAFT主要解决一致性问题</p><h2 id="模型和概念" tabindex="-1"><a class="header-anchor" href="#模型和概念" aria-hidden="true">#</a> 模型和概念</h2><p>Leader（领导人）：统筹节点，接受和处理请求，复制日志</p><p>Follower（跟随者）：只响应 Leader 和 Candidate 请求，复制 Log 到所有 Followers</p><p>Candidate（候选人）：负责选举新 Leader</p><p>Term（任期）：任期包括选举（产生新的Leader）和正常运行（发送日志和心跳）两个阶段。如果没有选出领导人，开启下一个任期</p><p>选票：用于选举，包含选举人所处Term编号，Condidate只会投票给Term编号大于等于自身的节点</p><p>复制状态机：相同的初始状态 + 相同的输入 = 相同的结束状态</p><p>请求投票（RequestVote RPC）:由candidate再选举期间发起</p><p>追加条目（AppendEntries RPC）：由Leader发起，用来复制日志和提供心跳</p><h2 id="raft" tabindex="-1"><a class="header-anchor" href="#raft" aria-hidden="true">#</a> Raft</h2>',14),h=e("p",null,"Raft集群启动，每个节点都是Follower，维护一个计时器，判断当前Term是否超时，超时后Term+1",-1),_=e("p",null,"集群节点全部超时，转化为Candidate，开始举行选举：",-1),u=e("ol",null,[e("li",null,"将自身Term+1"),e("li",null,"为自己投一票"),e("li",null,"重置本地计时器"),e("li",null,"发送投票请求到其他节点"),e("li",null,"等待下一次计时器超时")],-1),m=e("h2",{id:"参考",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#参考","aria-hidden":"true"},"#"),t(" 参考")],-1),f={href:"http://www.noobyard.com/article/p-axlhpdoc-oa.html",target:"_blank",rel:"noopener noreferrer"},R={href:"https://juejin.cn/post/6844903795663585293#heading-0",target:"_blank",rel:"noopener noreferrer"},b=e("p",null,"https://www.bilibili.com/video/BV1BZ4y1U774",-1);function T(w,x){const l=r("Mermaid"),n=r("ExternalLinkIcon");return d(),i("div",null,[c,a(l,{id:"mermaid-65",code:"eJwrLkksSXXJTEwvSszlUgCCaK1YBV1dOwW3/Jyc/PLUIrAgjAOWcU7MS8lMAWpTsFJ4vrbz6b5Wn9TElNSip/ubX2zf/GJb67Pp28C6EAqRDQTqetnQ+WTHvqftu562bnuyexpEe0ze0/6Jz/s2PJu95eXqGU927342Zz5EBothEAmgUS/6tj/dN/3pklnPpm4AGvt86QqwajABVYRmOcSWp3sani7vxmIXlwIXAJq9eIQ="}),h,_,u,m,e("p",null,[e("a",f,[t("Raft算法系列教程1：Leader选举 - 菜鸟学院 (noobyard.com)"),a(n)])]),e("p",null,[e("a",R,[t("蚂蚁金服开源 SOFAJRaft：生产级 Java Raft 算法库 - 掘金 (juejin.cn)"),a(n)])]),b])}const F=o(s,[["render",T],["__file","Raft.html.vue"]]);export{F as default};
